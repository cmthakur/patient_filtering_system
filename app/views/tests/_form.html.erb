<%= form_for [:trial, @test], :html => { :class => 'form-horizontal' } do |f| %>
<div class="control-group">
  <%= f.label :question, :class => 'control-label' %>
  <div class="controls">
    <%= f.text_field :question, :class => 'text_field' %>
  </div>
</div>
<br />
<div class="control-group">
  <%= f.label :type, :class => 'control-label' %>
  <div class="controls">
    <%= f.select :type, options_for_select([['Fixed Answer', 1],['Short Answer',2],['Multiple Choice', 3]]), :class =>'qt_select' %>
  </div>
</div>
<br />
<div class="control-group">
  <%= f.label :answers, :class => 'control-label' %>
  <div class="controls answers">
    <%= f.text_field :answers, :class => 'text_field' %>
  </div>
</div>
<br />
<div class="form-actions">
  <%= f.submit nil, :class => 'btn btn-primary' %>
  <%= link_to t('.cancel', :default => t("helpers.links.cancel")),
  trial_tests_path(@trial.id), :class => 'btn' %>
</div>
<% end %>



<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript">
$("#test_type").change( function() {
  var selected = $(this).val();
  var html = '' ;
  if(selected == 2){
    html = '<textarea class="text_field" id="test_answers" name="test[answers]" size="30" type="text_area">'
  }else if(selected == 3){
   html = '<input type="radio" name="test[answers]" value="yes"> Yes<br>'+
   '<input type="radio" name="test[answers]" value="not_sure"> Not Sure<br>'+
   '<input type="radio" name="test[answers]" value="no"> No'
 }else{
  html = '<input class="text_field" id="test_answers" name="test[answers]" size="30" type="text">'
}
$('.answers').html(html);
});
</script>

